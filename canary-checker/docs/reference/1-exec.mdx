---
title: Exec
---

# <Icon name="console" /> Exec



Executes a bash (linux) or powershell (windows) script. The check is considered passing if the script exits with `0`

:::tip Docker Image variants
See [image-variants](../concepts/image-variants)
:::

```yaml title="exec.yaml"  file=../../../modules/canary-checker/fixtures/minimal/exec_pass.yaml
```


<HealthCheck name="exec" edition="standard"  rows={[

{
  field: "script",
  description: " Script can be a inline script or a path to a script that needs to be executed. On windows executed via Powershell and in darwin and linux executed using bash",
  required: true
},
{
  field: "artifacts",
  description: "Specify what files/folders generated by the script needs to be archived",
  scheme: "[`[]Artifact`](#artifact)",
},
{
  field: "checkout",
  description: "Specify git repository to mount to the exec process",
  scheme: "[`[]GitCheckout`](#git-checkout)",
},
{
  field: "env",
  description: "Setup environment variables that are accessible to the exec process",
  scheme: "[]EnvVar",
},
{
  field: "connections",
  description: "Setup connections for the script (eg: aws credentials)",
  scheme: "[`ExecConnection`](#exec-connection)",
}
]}/>


<details summary="Exec with an Environment Variables">
<div>
```yaml title="exec_artifact.yaml"  file=../../../modules/canary-checker/fixtures/minimal/exec_env_pass.yaml
```
</div>
</details>


<SkipOSS>
### Exec Connection

Exec connections allow you to specify credentials for a list of CLI tools that are needed by your scripts. Eg: You can specify the AWS connection name and the credential files along with the necessary environment variables
will be setup on the host running the script.

| Field   | Description      | Type                                                    | Required |
| ------- | ---------------- | ------------------------------------------------------- | -------- |
| `aws`   | AWS connection   | [`AWSConnection`](/reference/connections/aws)     |          |
| `gcp`   | GCP connection   | [`GCPConnection`](/reference/connections/gcp)     |          |
| `azure` | Azure connection | [`AzureConnection`](/reference/connections/azure) |          |


<details summary="Exec with a Connection">
<div>
```yaml title="exec_artifact.yaml"  file=../../../modules/canary-checker/fixtures/minimal/exec_connection_aws_fail.yaml
```
</div>
</details>


### Artifact

| Field  | Description   | Type     | Required |
| ------ | ------------- | -------- | -------- |
| `path` | Path or glob. | `string` | `true`   |

See [artifacts](../concepts/artifacts)

<details summary="Exec with an Artifact">
<div>
```yaml title="exec_artifact.yaml"  file=../../../modules/canary-checker/fixtures/minimal/exec_artifact.yaml
```

</div>
</details>

</SkipOSS>
### Git Checkout


<details summary="Exec with Checkout">
<div>
```yaml title="exec_artifact.yaml"  file=../../../modules/canary-checker/fixtures/git/exec_checkout_pass.yaml
```

</div>
</details>

<Fields connection="git" rows={[
  {field: "destination", description: "Destination is the full path to where the contents of the URL should be downloaded to. If left empty, the sha256 hash of the URL will be used as the dir name", type: "string"},
]}/>

